(this["webpackJsonpkart-optimizer"]=this["webpackJsonpkart-optimizer"]||[]).push([[0],{20:function(e,t,r){},21:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){},26:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},29:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var n,i=r(2),c=r.n(i),a=r(8),s=r.n(a),o=(r(20),r(4)),d=r(6),l=r(11),u=r(10),j=(r(21),r.p+"static/media/MarioKart8.428361ae.webp"),b=r(0),O=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"Header",children:Object(b.jsxs)("div",{className:"Logo",children:[Object(b.jsx)("img",{className:"LogoImg",src:j,alt:"Mario Kart 8 Logo"}),Object(b.jsx)("p",{className:"LogoText",children:"Kart Optimizer"})]})})}}]),r}(i.Component),f=(r(23),r(7)),v=(r(24),r(3));!function(e){e.SPEED="Speed",e.ACCELERATION="Acceleration",e.WEIGHT="Weight",e.HANDLING="Handling",e.TRACTION="Traction",e.PRIORITY=""}(n||(n={}));var x,h,g={statPriority:[n.SPEED,n.ACCELERATION,n.PRIORITY,n.WEIGHT,n.HANDLING,n.TRACTION],setNewStatPriority:function(e){return console.log(e)}},p=c.a.createContext(g),m=function(e){var t=e.children,r=c.a.useState(g),n=Object(f.a)(r,2),i=n[0],a=n[1],s=function(e){a((function(t){return Object(v.a)(Object(v.a)({},t),{},{statPriority:e})}))};return c.a.useEffect((function(){a((function(e){return Object(v.a)(Object(v.a)({},e),{},{setNewStatPriority:s})}))}),[]),Object(b.jsx)(p.Provider,{value:i,children:t})};!function(e){e.GROUND="Ground",e.WATER="Water",e.ANTI_GRAVITY="Anti-Gravity",e.AIR="Air"}(x||(x={})),function(e){e.ON_ROAD="On-Road",e.OFF_ROAD="Off-Road"}(h||(h={}));var I,y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,j=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,b=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,O=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0;Object(o.a)(this,e),this.weight=t,this.acceleration=r,this.onRoadTraction=n,this.offRoadTraction=i,this.miniTurbo=c,this.groundSpeed=a,this.waterSpeed=s,this.antiGravitySpeed=d,this.airSpeed=l,this.groundHandling=u,this.waterHandling=j,this.antiGravityHandling=b,this.airHandling=O},P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new y;Object(o.a)(this,e),this.name=t,this.img=r,this.stats=n}return Object(d.a)(e,[{key:"getStat",value:function(e){switch(e){case n.SPEED:return this.stats.groundSpeed;case n.ACCELERATION:return this.stats.acceleration;case n.WEIGHT:return this.stats.weight;case n.HANDLING:return this.stats.groundHandling;case n.TRACTION:return this.stats.offRoadTraction;default:return 0}}},{key:"getStats",value:function(e){var t=this;return e.map((function(e){return t.getStat(e)}))}}]),e}();!function(e){e.DRIVER="Driver",e.BODY="Body",e.TIRE="Tire",e.GLIDER="Glider"}(I||(I={}));var N=r(9),T=r.n(N),k=r(14),R="http://kart-optimizer-backend.us-east-2.elasticbeanstalk.com/optimizer",S={drivers:[],bodies:[],tires:[],gliders:[],selectedDriver:new P,selectedBody:new P,selectedTire:new P,selectedGlider:new P,driverIsFixed:!1,bodyIsFixed:!1,tireIsFixed:!1,gliderIsFixed:!1,topKarts:[],topKartsLoaded:!0,setPart:function(e,t){return console.log(e,t)},setKart:function(e){return console.log(e)},getTopKarts:function(e){console.log(e)},toggleFixed:function(e){return console.log(e)}},C=c.a.createContext(S),F=function(e){var t=e.children,r=c.a.useState(S),n=Object(f.a)(r,2),a=n[0],s=n[1],o=function(e,t){switch(t){case I.DRIVER:s((function(t){return Object(v.a)(Object(v.a)({},t),{},{selectedDriver:e})}));break;case I.BODY:s((function(t){return Object(v.a)(Object(v.a)({},t),{},{selectedBody:e})}));break;case I.TIRE:s((function(t){return Object(v.a)(Object(v.a)({},t),{},{selectedTire:e})}));break;case I.GLIDER:s((function(t){return Object(v.a)(Object(v.a)({},t),{},{selectedGlider:e})}))}},d=function(e){s((function(t){return Object(v.a)(Object(v.a)({},t),{},{selectedDriver:e.driver,selectedBody:e.body,selectedTire:e.tire,selectedGlider:e.glider})}))},l=function(e){switch(e){case I.DRIVER:s((function(e){return Object(v.a)(Object(v.a)({},e),{},{driverIsFixed:!e.driverIsFixed})}));break;case I.BODY:s((function(e){return Object(v.a)(Object(v.a)({},e),{},{bodyIsFixed:!e.bodyIsFixed})}));break;case I.TIRE:s((function(e){return Object(v.a)(Object(v.a)({},e),{},{tireIsFixed:!e.tireIsFixed})}));break;case I.GLIDER:s((function(e){return Object(v.a)(Object(v.a)({},e),{},{gliderIsFixed:!e.gliderIsFixed})}))}},u=function(){var e=Object(k.a)(T.a.mark((function e(t){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(R+t,{method:"GET",mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.text().then((function(e){return JSON.parse(e)})));case 8:return e.abrupt("return",[]);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),j=Object(i.useCallback)(function(){var e=Object(k.a)(T.a.mark((function e(t){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(v.a)(Object(v.a)({},e),{},{topKartsLoaded:!1})})),e.prev=1,e.next=4,fetch("".concat(R,"/topKarts"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 4:(r=e.sent).ok&&r.text().then((function(e){console.log(t),console.log(e);var r=JSON.parse(e);s((function(e){return Object(v.a)(Object(v.a)({},e),{},{topKarts:r,topKartsLoaded:!0})}))})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return c.a.useEffect((function(){s({drivers:[],bodies:[],tires:[],gliders:[],selectedDriver:new P,selectedBody:new P,selectedTire:new P,selectedGlider:new P,driverIsFixed:!1,bodyIsFixed:!1,tireIsFixed:!1,gliderIsFixed:!1,topKarts:[],topKartsLoaded:!0,setPart:o,setKart:d,getTopKarts:j,toggleFixed:l}),u("/drivers").then((function(e){return s((function(t){return Object(v.a)(Object(v.a)({},t),{},{drivers:e,selectedDriver:e[0]})}))})),u("/bodies").then((function(e){s((function(t){return Object(v.a)(Object(v.a)({},t),{},{bodies:e,selectedBody:e[0]})}))})),u("/tires").then((function(e){s((function(t){return Object(v.a)(Object(v.a)({},t),{},{tires:e,selectedTire:e[0]})}))})),u("/gliders").then((function(e){s((function(t){return Object(v.a)(Object(v.a)({},t),{},{gliders:e,selectedGlider:e[0]})}))}))}),[j]),Object(b.jsx)(C.Provider,{value:a,children:t})},D=(r(26),function(e){var t=c.a.useContext(C),r=function(){switch(e.selectedPartType){case I.DRIVER:return t.driverIsFixed;case I.BODY:return t.bodyIsFixed;case I.TIRE:return t.tireIsFixed;case I.GLIDER:return t.gliderIsFixed}};return Object(b.jsxs)("div",{className:"PartSelection",children:[Object(b.jsx)("div",{className:"SelectedPart",style:{background:e.isSelected&&void 0!==e.selectedPart?"#26baff":"#777"},onClick:e.onClick,children:Object(b.jsx)("img",{className:"PartImage",src:void 0!==e.selectedPart?e.selectedPart.img:"",alt:void 0!==e.selectedPart?e.selectedPart.name:""})}),Object(b.jsx)("div",{className:"PartLock",style:{background:r()?"#f92470":"#26baff"},onClick:function(){return void 0!==e.selectedPart?(r=e.selectedPartType,t.toggleFixed(r)):{};var r},children:Object(b.jsx)("p",{className:"PartLabel",children:void 0!==e.selectedPart?function(){var t=e.selectedPart.name.split(" ");return t[t.length-1].includes("(")&&t.pop(),t.length>=2?"".concat(t[0]," ").concat(t[1]):t.join(" ")}():"None"})})]})}),E=(r(27),function(e){var t=c.a.useContext(C);return Object(b.jsx)("div",{className:"PartTile",onClick:function(){e.type&&t.setPart(e.part,e.type)},style:{background:e.isSelected?"#26baff":"#555"},children:Object(b.jsx)("img",{className:"PartImage",src:e.part.img,alt:"Part"})})}),w=function(){var e=c.a.useContext(C),t=Object(i.useState)({selectedPartList:c.a.useContext(C).drivers}),r=Object(f.a)(t,2),n=r[0],a=r[1],s=function(e){a({selectedPartList:e})},o=function(e){if(e.length>0)switch(e[0].name){case"Standard Kart":return I.BODY;case"Standard":return I.TIRE;case"Super Glider":return I.GLIDER;default:return I.DRIVER}return I.DRIVER},d=function(){return 0===n.selectedPartList.length?e.drivers:n.selectedPartList},l=function(e){return o(e)===o(n.selectedPartList)};return Object(b.jsx)("div",{className:"KartConfig",children:Object(b.jsxs)("div",{className:"CenterContainer",children:[Object(b.jsxs)("div",{className:"PartOptions",children:[Object(b.jsx)(D,{selectedPart:e.selectedDriver,selectedPartType:o(e.drivers),isSelected:l(e.drivers),isFixed:e.driverIsFixed,onClick:function(){return s(e.drivers)}}),Object(b.jsx)(D,{selectedPart:e.selectedBody,selectedPartType:o(e.bodies),isSelected:l(e.bodies),isFixed:e.bodyIsFixed,onClick:function(){return s(e.bodies)}}),Object(b.jsx)(D,{selectedPart:e.selectedTire,selectedPartType:o(e.tires),isSelected:l(e.tires),isFixed:e.tireIsFixed,onClick:function(){return s(e.tires)}}),Object(b.jsx)(D,{selectedPart:e.selectedGlider,selectedPartType:o(e.gliders),isSelected:l(e.gliders),isFixed:e.gliderIsFixed,onClick:function(){return s(e.gliders)}})]}),Object(b.jsx)("div",{className:"Separator"}),0!==d().length?Object(b.jsx)("div",{className:"PartList",children:new Array(d().length).fill(0).map((function(t,r){return Object(b.jsx)(E,{part:d()[r],type:o(d()),isSelected:(n=d()[r],n.name===e.selectedDriver.name||n.name===e.selectedBody.name||n.name===e.selectedTire.name||n.name===e.selectedGlider.name)},r);var n}))}):Object(b.jsx)("p",{className:"NoBackend",children:"Loading List..."})]})})},K=function(e){var t=function(e){return e/4+.75};return[t(e.map((function(e){return void 0!==e?e.stats.groundSpeed:0})).reduce((function(e,t){return e+t}))),t(e.map((function(e){return void 0!==e?e.stats.acceleration:0})).reduce((function(e,t){return e+t}))),t(e.map((function(e){return void 0!==e?e.stats.weight:0})).reduce((function(e,t){return e+t}))),t(e.map((function(e){return void 0!==e?e.stats.groundHandling:0})).reduce((function(e,t){return e+t}))),t(e.map((function(e){return void 0!==e?e.stats.offRoadTraction:0})).reduce((function(e,t){return e+t})))]},L=function(e){var t=[38,186,255],r=[249,36,112],n=t.map((function(e,t){return r[t]-e})).map((function(r,n){return t[n]+r*(e/6)}));return"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")")},G=(r(28),function(e){var t=c.a.useContext(C),r=void 0!==e.kart.driver?K([e.kart.driver,e.kart.body,e.kart.tire,e.kart.glider]):[];return Object(b.jsxs)("div",{className:"KartCombo",onClick:function(){return t.setKart(e.kart)},children:[Object(b.jsxs)("div",{className:"Parts",children:[Object(b.jsx)("div",{className:"KartComboPart",children:Object(b.jsx)("img",{src:e.kart.driver.img,alt:"Driver"})}),Object(b.jsx)("div",{className:"KartComboPart",children:Object(b.jsx)("img",{src:e.kart.body.img,alt:"Body"})}),Object(b.jsx)("div",{className:"KartComboPart",children:Object(b.jsx)("img",{src:e.kart.tire.img,alt:"Tire"})}),Object(b.jsx)("div",{className:"KartComboPart",children:Object(b.jsx)("img",{src:e.kart.glider.img,alt:"Glider"})})]}),Object(b.jsx)("div",{className:"Stats",children:["S","A","W","H","T"].map((function(e,t){return Object(b.jsxs)("p",{children:[e,":"," ",Object(b.jsx)("span",{style:{color:L(r[t])},children:r[t]})]},"kart-combo-".concat(t))}))})]})}),A=(r(29),r(12)),B=function e(t,r,n,i,c,a,s){Object(o.a)(this,e),this.fixedDriver=t,this.fixedBody=r,this.fixedTire=n,this.fixedGlider=i,this.priorityStats=c,this.regularStats=a,this.maxCount=s},H=(r(32),function(){var e=c.a.useContext(p),t=c.a.useContext(C),r=Object(A.b)((function(t){var r,i=t.value,c=t.currentIndex;return Object(b.jsx)("div",{className:"Stat",style:{background:(r=c,r<e.statPriority.indexOf(n.PRIORITY)?"#f92470":r>e.statPriority.indexOf(n.PRIORITY)?"#777":"#26baff")},children:Object(b.jsx)("p",{children:i})})})),i=Object(A.a)((function(e){var t=e.items;return Object(b.jsx)("ul",{children:t.map((function(e,t){return Object(b.jsx)(r,{index:t,currentIndex:t,value:e},"item-".concat(t))}))})}));return Object(b.jsxs)("div",{className:"StatPriority",children:[Object(b.jsx)("div",{className:"StatList",children:Object(b.jsx)(i,{items:e.statPriority,onSortEnd:function(t){var r=t.oldIndex,n=t.newIndex;e.setNewStatPriority(Object(A.c)(e.statPriority,r,n))}})}),Object(b.jsx)("button",{onClick:function(){var r=e.statPriority.indexOf(n.PRIORITY),i=e.statPriority.slice(0,r),c=e.statPriority.slice(r+1),a=new B(t.driverIsFixed?t.selectedDriver:null,t.bodyIsFixed?t.selectedBody:null,t.tireIsFixed?t.selectedTire:null,t.gliderIsFixed?t.selectedGlider:null,i,c,100);t.getTopKarts(a)},children:"Generate Karts"})]})}),Y=function(){var e=c.a.useContext(C);return Object(b.jsxs)("div",{className:"Optimizer",children:[Object(b.jsx)(H,{}),Object(b.jsx)("div",{className:"Options",children:e.topKartsLoaded?0===e.topKarts.length?Object(b.jsx)("p",{className:"LoadingKarts",children:'Click "Generate Karts"'}):e.topKarts.map((function(e,t){return Object(b.jsx)(G,{kart:e},"kart-".concat(t))})):Object(b.jsx)("p",{className:"LoadingKarts",children:"Loading Karts..."})})]})},V=(r(33),function(e){for(var t=[],r=0;r<23;r++)t.push(Object(b.jsx)("div",{className:"VerticalSeparator",style:{height:(r+1)%4===0?"1rem":"0.5rem"}},"separator-".concat(r)));return Object(b.jsxs)("div",{className:"ProgressBar",children:[Object(b.jsxs)("p",{children:[e.label,":"," ",Object(b.jsx)("span",{style:{color:L(e.value)},children:+e.value.toFixed(2)})]}),Object(b.jsxs)("div",{className:"Bar",children:[Object(b.jsx)("div",{className:"Progress",style:{width:"".concat(100-e.value*(100/6),"%")}}),Object(b.jsx)("div",{className:"SeparatorContainer",children:t})]})]})}),W=(r(34),function(){var e=c.a.useContext(C),t=K([e.selectedDriver,e.selectedBody,e.selectedTire,e.selectedGlider]);return Object(b.jsxs)("div",{className:"Sidebar",children:[Object(b.jsxs)("div",{className:"KartStats",children:[Object(b.jsx)(V,{label:"Speed",value:t[0]}),Object(b.jsx)(V,{label:"Acceleration",value:t[1]}),Object(b.jsx)(V,{label:"Weight",value:t[2]}),Object(b.jsx)(V,{label:"Handling",value:t[3]}),Object(b.jsx)(V,{label:"Traction",value:t[4]})]}),Object(b.jsx)(Y,{})]})}),z=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(b.jsx)(m,{children:Object(b.jsx)(F,{children:Object(b.jsxs)("div",{className:"KartOptimizerApp",children:[Object(b.jsx)(O,{}),Object(b.jsx)(w,{}),Object(b.jsx)(W,{})]})})})}}]),r}(i.Component);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(z,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.55485287.chunk.js.map